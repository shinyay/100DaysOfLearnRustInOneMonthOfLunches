# Day 33

## Notes

On June 29, Fermyon announced Spin v1.3.0, a feature that allows variables to be externalized and deployed to the Fermyon Cloud.

- [`spin cloud variables` command](https://www.fermyon.com/blog/exploring_variables)

Today I've just tried.

### Exploring Spin Application Variables

Let's create sample code.

#### Create template

```shell
spin new http-rust my-logging-app
```

```shell
Description: spin new http-rust my-logging-app
HTTP base: /
HTTP path: /...
```

<details>
<summary>spin.toml</summary>

```toml
spin_manifest_version = "1"
description = "spin new http-rust my-logging-app"
name = "my-logging-app"
trigger = { type = "http", base = "/" }
version = "0.1.0"

[[component]]
id = "my-logging-app"
source = "target/wasm32-wasi/release/my_logging_app.wasm"
allowed_http_hosts = []
[component.trigger]
route = "/..."
[component.build]
command = "cargo build --target wasm32-wasi --release"
watch = ["src/**/*.rs", "Cargo.toml"]
```

</details>

Add the followings

```toml
[variables]
loglevel = { required = true }
```

```toml
[component.config]
loglevel = "{{ loglevel }}"
```

#### Code application

Add dependencies:

- `log`
- `simple_logger`

```shell
cargo add log simple_logger
```

- [Code - lib.rs](./my-logging-app/src/lib.rs)

## Key Takeaways
