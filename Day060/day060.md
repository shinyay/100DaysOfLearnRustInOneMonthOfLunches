# Day 60

## Notes

Rust has four main ways to allow some safe mutability inside of something that is immutable: `Cell`, `RefCell`, `Mutex`, and `RwLock`.

### Interior mutability - Cell

The simples **Interior Mutability** is `Cell`, which is described as a *mutable memory location*.

Take a look at the following sample:

```rust
struct Book {
    author: String,
    title: String,
    category: String,
    price: u32,
    sale: bool,
}
```

There is an item called Sale. It is easy to imagine that this item may want to be changed at a later date.
Use `Cell` for such potentially variable fields.

```rust
use std::cell::Cell;

struct Book {
    author: String,
    title: String,
    category: String,
    price: u32,
    sale: Cell<bool>,
}
```

That `Cell` holds `bool` type.

```rust
use std::{fmt::{Display, Formatter, Result}, cell::Cell};

#[derive(Debug)]
struct Book {
    author: String,
    title: String,
    category: String,
    price: u32,
    sale: Cell<bool>,
}

impl Book {
    
}

impl Display for Book {
    fn fmt(&self, f: &mut Formatter<'_>) -> Result {
        write!(f, "Title: {} | Price: {} | Sale: {}", self.title, self.price, self.sale.get())
    }
}

fn main() {
    let my_book = Book {
        author: "Shinya Yanagihara".to_string(),
        title: "Rust for Beginners".to_string(),
        category: "Rust".to_string(),
        price: 980,
        sale: Cell::new(false),
    };

    my_book.sale.set(true);

    println!("BookInfo:{}", my_book);
}
```

## Key Takeaways
